<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="584px" preserveAspectRatio="none" style="width:1181px;height:584px;background:#FFFFFF;" version="1.1" viewBox="0 0 1181 584" width="1181px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="572.1953" style="stroke:#181818;stroke-width:0.5;" width="1033" x="142" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138" x="589.5" y="19.4951">Campus Management</text><rect fill="#00FFFF" height="550.8438" style="stroke:#181818;stroke-width:0.5;" width="223" x="142" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="189" x="159" y="40.8467">Framework And Drivers Layer</text><rect fill="#77FFAA" height="550.8438" style="stroke:#181818;stroke-width:0.5;" width="246" x="473" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="518" y="40.8467">Interface Adapters Layer</text><rect fill="#FF6666" height="550.8438" style="stroke:#181818;stroke-width:0.5;" width="194" x="981" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="170" x="993" y="40.8467">Application Business Rules</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="186" x2="186" y1="80.3125" y2="539.5859"/><rect fill="#FFFFFF" height="394.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="181" y="127.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="290" x2="290" y1="80.3125" y2="539.5859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="285" y="248.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="424" x2="424" y1="80.3125" y2="539.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="531.5" x2="531.5" y1="80.3125" y2="539.5859"/><rect fill="#FFFFFF" height="333.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="526.5" y="157.3672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="655.5" x2="655.5" y1="80.3125" y2="539.5859"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="650.5" y="218.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="775.5" x2="775.5" y1="80.3125" y2="539.5859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="770.5" y="369.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="925.5" x2="925.5" y1="80.3125" y2="539.5859"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="920.5" y="339.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1078" x2="1078" y1="80.3125" y2="539.5859"/><rect fill="#FFFFFF" height="273.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1073" y="187.7188"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="154.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="161.5" y="69.2363">Routing</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="227.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="234.5" y="69.2363">Floor Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="381" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="388" y="69.2363">Data Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="477" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="484" y="69.2363">FloorController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="596" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="603" y="69.2363">Floor Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="735" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="742" y="69.2363">Floor DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="876" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="883" y="69.2363">Floor Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1029" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1036" y="69.2363">Floor Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="154.5" y="539.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="161.5" y="561.1191">Routing</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="227.5" y="539.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="234.5" y="561.1191">Floor Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="381" y="539.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="388" y="561.1191">Data Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="477" y="539.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="484" y="561.1191">FloorController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="596" y="539.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="603" y="561.1191">Floor Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="735" y="539.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="742" y="561.1191">Floor DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="876" y="539.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="883" y="561.1191">Floor Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1029" y="539.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1036" y="561.1191">Floor Service</text><ellipse cx="10.5" cy="126.2656" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="169,123.0156,179,127.0156,169,131.0156,173,127.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="15" x2="175" y1="127.0156" y2="127.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="18" y="105.8076">GET /floor/elevator</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="50" y="122.1592">?buildingCode={code}</text><polygon fill="#181818" points="514.5,153.3672,524.5,157.3672,514.5,161.3672,518.5,157.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="191" x2="520.5" y1="157.3672" y2="157.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="198" y="152.5107">getFloorsServedByElevator(buildingCode)</text><polygon fill="#181818" points="1061,183.7188,1071,187.7188,1061,191.7188,1065,187.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="536.5" x2="1067" y1="187.7188" y2="187.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="543.5" y="182.8623">getFloorsServedByElevator(buildingCode)</text><polygon fill="#181818" points="671.5,214.0703,661.5,218.0703,671.5,222.0703,667.5,218.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="665.5" x2="1072" y1="218.0703" y2="218.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="677.5" y="213.2139">findByBuildingCode(buildingCode)</text><polygon fill="#181818" points="306,244.4219,296,248.4219,306,252.4219,302,248.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="300" x2="649.5" y1="248.4219" y2="248.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="312" y="243.5654">query floors by building code</text><polygon fill="#181818" points="638.5,274.7734,648.5,278.7734,638.5,282.7734,642.5,278.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="295" x2="644.5" y1="278.7734" y2="278.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="302" y="273.917">floors[]</text><polygon fill="#181818" points="1061,305.125,1071,309.125,1061,313.125,1065,309.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="660.5" x2="1067" y1="309.125" y2="309.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="667.5" y="304.2686">floors[]</text><polygon fill="#181818" points="941.5,335.4766,931.5,339.4766,941.5,343.4766,937.5,339.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="935.5" x2="1072" y1="339.4766" y2="339.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="947.5" y="334.6201">toDTO(floors[])</text><polygon fill="#181818" points="791.5,365.8281,781.5,369.8281,791.5,373.8281,787.5,369.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="785.5" x2="919.5" y1="369.8281" y2="369.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="797.5" y="364.9717">map domain to DTO</text><polygon fill="#181818" points="908.5,396.1797,918.5,400.1797,908.5,404.1797,912.5,400.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="780.5" x2="914.5" y1="400.1797" y2="400.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="787.5" y="395.3232">floorsDTO[]</text><polygon fill="#181818" points="1061,426.5313,1071,430.5313,1061,434.5313,1065,430.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="930.5" x2="1067" y1="430.5313" y2="430.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="937.5" y="425.6748">floorsDTO[]</text><polygon fill="#181818" points="547.5,456.8828,537.5,460.8828,547.5,464.8828,543.5,460.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="541.5" x2="1072" y1="460.8828" y2="460.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="553.5" y="456.0264">floorsDTO[]</text><polygon fill="#181818" points="202,487.2344,192,491.2344,202,495.2344,198,491.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="196" x2="525.5" y1="491.2344" y2="491.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="208" y="486.3779">floorsDTO[]</text><ellipse cx="10.5" cy="520.8359" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="27.5,517.5859,17.5,521.5859,27.5,525.5859,23.5,521.5859" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="180.5" cy="520.8359" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="25.5" x2="176" y1="521.5859" y2="521.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="28" y="516.7295">floorsDTO[]</text><!--MD5=[5cd8d169f2898d552da7698115be6473]
@startuml SD Lv3

!pragma teoz true

box "Campus Management" #LightBlue

    box "Framework And Drivers Layer" #00ffff
        participant Routing
        participant "Floor Persistence" as Persistence
    end box

    participant "Data Model" as Data
    box "Interface Adapters Layer" #77ffaa
        participant FloorController as Controller
        participant "Floor Repository" as Repository
    end box

    participant "Floor DTO" as FloorDTO
    participant "Floor Mapper" as FloorMapper
    box "Application Business Rules" #ff6666
        participant "Floor Service" as FloorService
    end box
end box

[o-> Routing : GET /floor/elevator\n\t?buildingCode={code}
activate Routing

    Routing -> Controller : getFloorsServedByElevator(buildingCode)
    activate Controller

        Controller -> FloorService : getFloorsServedByElevator(buildingCode)
        activate FloorService
        
            FloorService -> Repository : findByBuildingCode(buildingCode)
            activate Repository

                Repository -> Persistence : query floors by building code
                activate Persistence

                Persistence - -> Repository : floors[]
                deactivate Persistence

            Repository - -> FloorService : floors[]
            deactivate Repository

            FloorService -> FloorMapper : toDTO(floors[])
            activate FloorMapper
            
                FloorMapper -> FloorDTO : map domain to DTO
                activate FloorDTO

                FloorDTO - -> FloorMapper : floorsDTO[]
                deactivate FloorDTO

            FloorMapper - -> FloorService : floorsDTO[]
            deactivate FloorMapper

        FloorService - -> Controller : floorsDTO[]
        deactivate FloorService

    Controller - -> Routing : floorsDTO[]
    deactivate Controller

[o<- -o Routing : floorsDTO[]
deactivate Routing

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>
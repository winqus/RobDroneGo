<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="705px" preserveAspectRatio="none" style="width:1548px;height:705px;background:#FFFFFF;" version="1.1" viewBox="0 0 1548 705" width="1548px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="693.6016" style="stroke:#181818;stroke-width:0.5;" width="1348" x="194.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138" x="799.5" y="19.4951">Campus Management</text><rect fill="#00FFFF" height="672.25" style="stroke:#181818;stroke-width:0.5;" width="358" x="194.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="189" x="279" y="40.8467">Framework And Drivers Layer</text><rect fill="#77FFAA" height="672.25" style="stroke:#181818;stroke-width:0.5;" width="409" x="660.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="787" y="40.8467">Interface Adapters Layer</text><rect fill="#FF6666" height="672.25" style="stroke:#181818;stroke-width:0.5;" width="194" x="1348.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="170" x="1360.5" y="40.8467">Application Business Rules</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="230" x2="230" y1="80.3125" y2="660.9922"/><rect fill="#FFFFFF" height="515.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="225" y="127.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="342.5" x2="342.5" y1="80.3125" y2="660.9922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="337.5" y="369.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="486" x2="486" y1="80.3125" y2="660.9922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="481" y="248.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="611.5" x2="611.5" y1="80.3125" y2="660.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="727.5" x2="727.5" y1="80.3125" y2="660.9922"/><rect fill="#FFFFFF" height="455.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="722.5" y="157.3672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="868.5" x2="868.5" y1="80.3125" y2="660.9922"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="863.5" y="339.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1006" x2="1006" y1="80.3125" y2="660.9922"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001" y="218.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1134.5" x2="1134.5" y1="80.3125" y2="660.9922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1129.5" y="491.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1284.5" x2="1284.5" y1="80.3125" y2="660.9922"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1279.5" y="460.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1445.5" x2="1445.5" y1="80.3125" y2="660.9922"/><rect fill="#FFFFFF" height="394.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="1440.5" y="187.7188"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="198.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="205.5" y="69.2363">Routing</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="271.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="278.5" y="69.2363">Building Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="423.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="430.5" y="69.2363">Floor Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="568.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="575.5" y="69.2363">Data Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="664.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="671.5" y="69.2363">BuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="800.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="807.5" y="69.2363">Building Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="946.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="953.5" y="69.2363">Floor Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1085.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1092.5" y="69.2363">Building DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1226.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1233.5" y="69.2363">Building Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1388" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1395" y="69.2363">Building Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="198.5" y="660.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="205.5" y="682.5254">Routing</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="271.5" y="660.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="278.5" y="682.5254">Building Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="423.5" y="660.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="430.5" y="682.5254">Floor Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="568.5" y="660.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="575.5" y="682.5254">Data Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="664.5" y="660.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="671.5" y="682.5254">BuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="800.5" y="660.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="807.5" y="682.5254">Building Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="946.5" y="660.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="953.5" y="682.5254">Floor Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1085.5" y="660.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1092.5" y="682.5254">Building DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1226.5" y="660.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1233.5" y="682.5254">Building Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1388" y="660.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1395" y="682.5254">Building Service</text><ellipse cx="10.5" cy="126.2656" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="213,123.0156,223,127.0156,213,131.0156,217,127.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="15" x2="219" y1="127.0156" y2="127.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="18" y="105.8076">GET /building?minFloor={minFloor}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="50" y="122.1592">&amp;maxFloor={maxFloor}</text><polygon fill="#181818" points="710.5,153.3672,720.5,157.3672,710.5,161.3672,714.5,157.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="235" x2="716.5" y1="157.3672" y2="157.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="242" y="152.5107">getBuildingByFloorRange(minFloor, maxFloor)</text><polygon fill="#181818" points="1428.5,183.7188,1438.5,187.7188,1428.5,191.7188,1432.5,187.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="732.5" x2="1434.5" y1="187.7188" y2="187.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="739.5" y="182.8623">getBuildingsByFloorRange(minFloor, maxFloor)</text><polygon fill="#181818" points="1022,214.0703,1012,218.0703,1022,222.0703,1018,218.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1016" x2="1439.5" y1="218.0703" y2="218.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="1028" y="213.2139">findByBuildingCode(buildingCode)</text><polygon fill="#181818" points="502,244.4219,492,248.4219,502,252.4219,498,248.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496" x2="1000" y1="248.4219" y2="248.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="508" y="243.5654">query floors by building code</text><polygon fill="#181818" points="989,274.7734,999,278.7734,989,282.7734,993,278.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="491" x2="995" y1="278.7734" y2="278.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="498" y="273.917">floors[]</text><polygon fill="#181818" points="1428.5,305.125,1438.5,309.125,1428.5,313.125,1432.5,309.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1011" x2="1434.5" y1="309.125" y2="309.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="1018" y="304.2686">floors[]</text><polygon fill="#181818" points="884.5,335.4766,874.5,339.4766,884.5,343.4766,880.5,339.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="878.5" x2="1439.5" y1="339.4766" y2="339.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="890.5" y="334.6201">findByCode(buildingCode)</text><polygon fill="#181818" points="358.5,365.8281,348.5,369.8281,358.5,373.8281,354.5,369.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="352.5" x2="862.5" y1="369.8281" y2="369.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="364.5" y="364.9717">query building by code</text><polygon fill="#181818" points="851.5,396.1797,861.5,400.1797,851.5,404.1797,855.5,400.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="347.5" x2="857.5" y1="400.1797" y2="400.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="354.5" y="395.3232">building</text><polygon fill="#181818" points="1428.5,426.5313,1438.5,430.5313,1428.5,434.5313,1432.5,430.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="873.5" x2="1434.5" y1="430.5313" y2="430.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="880.5" y="425.6748">building</text><polygon fill="#181818" points="1300.5,456.8828,1290.5,460.8828,1300.5,464.8828,1296.5,460.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1294.5" x2="1439.5" y1="460.8828" y2="460.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1306.5" y="456.0264">toDTO(buildings)</text><polygon fill="#181818" points="1150.5,487.2344,1140.5,491.2344,1150.5,495.2344,1146.5,491.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1144.5" x2="1278.5" y1="491.2344" y2="491.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1156.5" y="486.3779">map domain to DTO</text><polygon fill="#181818" points="1267.5,517.5859,1277.5,521.5859,1267.5,525.5859,1271.5,521.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1139.5" x2="1273.5" y1="521.5859" y2="521.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1146.5" y="516.7295">buildingDTOs[]</text><polygon fill="#181818" points="1428.5,547.9375,1438.5,551.9375,1428.5,555.9375,1432.5,551.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1289.5" x2="1434.5" y1="551.9375" y2="551.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1296.5" y="547.0811">buildingDTOs[]</text><polygon fill="#181818" points="743.5,578.2891,733.5,582.2891,743.5,586.2891,739.5,582.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="737.5" x2="1439.5" y1="582.2891" y2="582.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="749.5" y="577.4326">buildingDTOs[]</text><polygon fill="#181818" points="246,608.6406,236,612.6406,246,616.6406,242,612.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="240" x2="721.5" y1="612.6406" y2="612.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="252" y="607.7842">buildingDTOs[]</text><ellipse cx="10.5" cy="642.2422" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="27.5,638.9922,17.5,642.9922,27.5,646.9922,23.5,642.9922" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="224.5" cy="642.2422" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="25.5" x2="220" y1="642.9922" y2="642.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="28" y="638.1357">buildingDTOs[]</text><!--MD5=[e2463411208f0b31a0257d8043913fb6]
@startuml SD Lv3

!pragma teoz true

box "Campus Management" #LightBlue

    box "Framework And Drivers Layer" #00ffff
        participant Routing
        participant "Building Persistence" as BuildingPersistence
        participant "Floor Persistence" as FloorPersistence
    end box

    participant "Data Model" as Data
    box "Interface Adapters Layer" #77ffaa
        participant BuildingController as Controller
        participant "Building Repository" as BuildingRepo
        participant "Floor Repository" as FloorRepo
    end box

    participant "Building DTO" as BuildingDTO
    participant "Building Mapper" as BuildingMapper
    box "Application Business Rules" #ff6666
        participant "Building Service" as BuildingService
    end box

end box

[o-> Routing : GET /building?minFloor={minFloor}\n\t&maxFloor={maxFloor}
activate Routing

    Routing -> Controller : getBuildingByFloorRange(minFloor, maxFloor)
    activate Controller

        Controller -> BuildingService : getBuildingsByFloorRange(minFloor, maxFloor)
        activate BuildingService
        
            BuildingService -> FloorRepo : findByBuildingCode(buildingCode)
            activate FloorRepo

                FloorRepo -> FloorPersistence : query floors by building code
                activate FloorPersistence

                FloorPersistence - -> FloorRepo : floors[]
                deactivate FloorPersistence

            FloorRepo - -> BuildingService : floors[]
            deactivate FloorRepo

            BuildingService -> BuildingRepo : findByCode(buildingCode)
            activate BuildingRepo

                BuildingRepo -> BuildingPersistence : query building by code
                activate BuildingPersistence

                BuildingPersistence - -> BuildingRepo : building
                deactivate BuildingPersistence

            BuildingRepo - -> BuildingService : building
            deactivate BuildingRepo

            BuildingService -> BuildingMapper : toDTO(buildings)
            activate BuildingMapper
            
                BuildingMapper -> BuildingDTO : map domain to DTO
                activate BuildingDTO

                BuildingDTO - -> BuildingMapper : buildingDTOs[]
                deactivate BuildingDTO

            BuildingMapper - -> BuildingService : buildingDTOs[]
            deactivate BuildingMapper

        BuildingService - -> Controller : buildingDTOs[]
        deactivate BuildingService

    Controller - -> Routing : buildingDTOs[]
    deactivate Controller

[o<- -o Routing : buildingDTOs[]
deactivate Routing

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>
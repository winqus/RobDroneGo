<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="567px" preserveAspectRatio="none" style="width:1443px;height:567px;background:#FFFFFF;" version="1.1" viewBox="0 0 1443 567" width="1443px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="555.8438" style="stroke:#181818;stroke-width:0.5;" width="1104" x="333.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138" x="816.5" y="19.4951">Campus Management</text><rect fill="#00FFFF" height="534.4922" style="stroke:#181818;stroke-width:0.5;" width="228" x="333.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="189" x="353" y="40.8467">Framework And Drivers Layer</text><rect fill="#77FFAA" height="534.4922" style="stroke:#181818;stroke-width:0.5;" width="290" x="669.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="736.5" y="40.8467">Interface Adapters Layer</text><rect fill="#FF6666" height="534.4922" style="stroke:#181818;stroke-width:0.5;" width="194" x="1243.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="170" x="1255.5" y="40.8467">Application Business Rules</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="30" x2="30" y1="80.3125" y2="523.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="369" x2="369" y1="80.3125" y2="523.2344"/><rect fill="#FFFFFF" height="394.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="364" y="110.6641"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="484" x2="484" y1="80.3125" y2="523.2344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="479" y="232.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="620.5" x2="620.5" y1="80.3125" y2="523.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="739" x2="739" y1="80.3125" y2="523.2344"/><rect fill="#FFFFFF" height="333.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="734" y="141.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="885" x2="885" y1="80.3125" y2="523.2344"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="880" y="201.7188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1027" x2="1027" y1="80.3125" y2="523.2344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022" y="353.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1177" x2="1177" y1="80.3125" y2="523.2344"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1172" y="323.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1340.5" x2="1340.5" y1="80.3125" y2="523.2344"/><rect fill="#FFFFFF" height="273.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1335.5" y="171.3672"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="12" y="69.2363">Client</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="337.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="344.5" y="69.2363">Routing</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="410.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="417.5" y="69.2363">Passage Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="577.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="584.5" y="69.2363">Data Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="673.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="680.5" y="69.2363">PassageController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="814.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="821.5" y="69.2363">Passage Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="975.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="982.5" y="69.2363">Passage DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="1116.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1123.5" y="69.2363">Passage Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1280.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1287.5" y="69.2363">Passage Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="5" y="523.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="12" y="544.7676">Client</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="337.5" y="523.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="344.5" y="544.7676">Routing</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="410.5" y="523.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="417.5" y="544.7676">Passage Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="577.5" y="523.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="584.5" y="544.7676">Data Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="673.5" y="523.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="680.5" y="544.7676">PassageController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="814.5" y="523.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="821.5" y="544.7676">Passage Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="975.5" y="523.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="982.5" y="544.7676">Passage DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="1116.5" y="523.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1123.5" y="544.7676">Passage Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1280.5" y="523.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1287.5" y="544.7676">Passage Service</text><polygon fill="#181818" points="352,106.6641,362,110.6641,352,114.6641,356,110.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="30" x2="358" y1="110.6641" y2="110.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="37" y="105.8076">GET /passages?building1={code1}&amp;building2={code2}</text><polygon fill="#181818" points="722,137.0156,732,141.0156,722,145.0156,726,141.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374" x2="728" y1="141.0156" y2="141.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="381" y="136.1592">getPassagesBetweenBuildings(code1, code2)</text><polygon fill="#181818" points="1323.5,167.3672,1333.5,171.3672,1323.5,175.3672,1327.5,171.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="744" x2="1329.5" y1="171.3672" y2="171.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="751" y="166.5107">getPassagesBetweenBuildings(code1, code2)</text><polygon fill="#181818" points="901,197.7188,891,201.7188,901,205.7188,897,201.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="895" x2="1334.5" y1="201.7188" y2="201.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="907" y="196.8623">findAllByBuildingCodes(code1, code2)</text><polygon fill="#181818" points="500,228.0703,490,232.0703,500,236.0703,496,232.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="879" y1="232.0703" y2="232.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="506" y="227.2139">query passages between buildings</text><polygon fill="#181818" points="868,258.4219,878,262.4219,868,266.4219,872,262.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="489" x2="874" y1="262.4219" y2="262.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="496" y="257.5654">passages[]</text><polygon fill="#181818" points="1323.5,288.7734,1333.5,292.7734,1323.5,296.7734,1327.5,292.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="890" x2="1329.5" y1="292.7734" y2="292.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="897" y="287.917">passages[]</text><polygon fill="#181818" points="1193,319.125,1183,323.125,1193,327.125,1189,323.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1187" x2="1334.5" y1="323.125" y2="323.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1199" y="318.2686">toDTO(passages[])</text><polygon fill="#181818" points="1043,349.4766,1033,353.4766,1043,357.4766,1039,353.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037" x2="1171" y1="353.4766" y2="353.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1049" y="348.6201">map domain to DTO</text><polygon fill="#181818" points="1160,379.8281,1170,383.8281,1160,387.8281,1164,383.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1032" x2="1166" y1="383.8281" y2="383.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1039" y="378.9717">passagesDTO[]</text><polygon fill="#181818" points="1323.5,410.1797,1333.5,414.1797,1323.5,418.1797,1327.5,414.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1182" x2="1329.5" y1="414.1797" y2="414.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1189" y="409.3232">passagesDTO[]</text><polygon fill="#181818" points="755,440.5313,745,444.5313,755,448.5313,751,444.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="749" x2="1334.5" y1="444.5313" y2="444.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="761" y="439.6748">passagesDTO[]</text><polygon fill="#181818" points="385,470.8828,375,474.8828,385,478.8828,381,474.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="379" x2="733" y1="474.8828" y2="474.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="391" y="470.0264">passagesDTO[]</text><polygon fill="#181818" points="41,501.2344,31,505.2344,41,509.2344,37,505.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="35" x2="363" y1="505.2344" y2="505.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="47" y="500.3779">passagesDTO[]</text><!--MD5=[73f09b5b6acf4ebb1b023b916f6e456d]
@startuml SD Lv3

!pragma teoz true

participant "Client" as Client
box "Campus Management" #LightBlue

    box "Framework And Drivers Layer" #00ffff
        participant Routing
        participant "Passage Persistence" as Persistence
    end box

    participant "Data Model" as Data
    box "Interface Adapters Layer" #77ffaa
        participant PassageController as Controller
        participant "Passage Repository" as Repository
    end box

    participant "Passage DTO" as PassageDTO
    participant "Passage Mapper" as PassageMapper
    box "Application Business Rules" #ff6666
        participant "Passage Service" as PassageService
    end box

    ' box "Enterprise Business Rules" #eeddaa
    '     participant Passage
    ' end box
end box

Client -> Routing : GET /passages?building1={code1}&building2={code2}
activate Routing

    Routing -> Controller : getPassagesBetweenBuildings(code1, code2)
    activate Controller

        Controller -> PassageService : getPassagesBetweenBuildings(code1, code2)
        activate PassageService
        
            PassageService -> Repository : findAllByBuildingCodes(code1, code2)
            activate Repository

                Repository -> Persistence : query passages between buildings
                activate Persistence

                Persistence - -> Repository : passages[]
                deactivate Persistence

            Repository - -> PassageService : passages[]
            deactivate Repository

            PassageService -> PassageMapper : toDTO(passages[])
            activate PassageMapper
            
                PassageMapper -> PassageDTO : map domain to DTO
                activate PassageDTO

                PassageDTO - -> PassageMapper : passagesDTO[]
                deactivate PassageDTO

            PassageMapper - -> PassageService : passagesDTO[]
            deactivate PassageMapper

        PassageService - -> Controller : passagesDTO[]
        deactivate PassageService

    Controller - -> Routing : passagesDTO[]
    deactivate Controller

Client <- - Routing : passagesDTO[]
deactivate Routing

@enduml

@startuml SD Lv3

!pragma teoz true

participant "Client" as Client
box "Campus Management" #LightBlue

    box "Framework And Drivers Layer" #00ffff
        participant Routing
        participant "Passage Persistence" as Persistence
    end box

    participant "Data Model" as Data
    box "Interface Adapters Layer" #77ffaa
        participant PassageController as Controller
        participant "Passage Repository" as Repository
    end box

    participant "Passage DTO" as PassageDTO
    participant "Passage Mapper" as PassageMapper
    box "Application Business Rules" #ff6666
        participant "Passage Service" as PassageService
    end box

end box

Client -> Routing : GET /passages?building1={code1}&building2={code2}
activate Routing

    Routing -> Controller : getPassagesBetweenBuildings(code1, code2)
    activate Controller

        Controller -> PassageService : getPassagesBetweenBuildings(code1, code2)
        activate PassageService
        
            PassageService -> Repository : findAllByBuildingCodes(code1, code2)
            activate Repository

                Repository -> Persistence : query passages between buildings
                activate Persistence

                Persistence - -> Repository : passages[]
                deactivate Persistence

            Repository - -> PassageService : passages[]
            deactivate Repository

            PassageService -> PassageMapper : toDTO(passages[])
            activate PassageMapper
            
                PassageMapper -> PassageDTO : map domain to DTO
                activate PassageDTO

                PassageDTO - -> PassageMapper : passagesDTO[]
                deactivate PassageDTO

            PassageMapper - -> PassageService : passagesDTO[]
            deactivate PassageMapper

        PassageService - -> Controller : passagesDTO[]
        deactivate PassageService

    Controller - -> Routing : passagesDTO[]
    deactivate Controller

Client <- - Routing : passagesDTO[]
deactivate Routing

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1085px" preserveAspectRatio="none" style="width:2098px;height:1085px;background:#FFFFFF;" version="1.1" viewBox="0 0 2098 1085" width="2098px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1073.4688" style="stroke:#181818;stroke-width:0.5;" width="2028.5" x="63.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138" x="1008.75" y="19.4951">Campus Management</text><rect fill="#00FFFF" height="1052.1172" style="stroke:#181818;stroke-width:0.5;" width="416" x="63.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="189" x="177" y="40.8467">Framework And Drivers Layer</text><rect fill="#77FFAA" height="1052.1172" style="stroke:#181818;stroke-width:0.5;" width="417" x="587.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="718" y="40.8467">Interface Adapters Layer</text><rect fill="#FF6666" height="1052.1172" style="stroke:#181818;stroke-width:0.5;" width="317.5" x="1566.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="170" x="1640.25" y="40.8467">Application Business Rules</text><rect fill="#EEDDAA" height="1052.1172" style="stroke:#181818;stroke-width:0.5;" width="196" x="1896" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="162" x="1913" y="40.8467">Enterprise Business Rules</text><rect fill="none" height="210.4609" style="stroke:#000000;stroke-width:1.5;" width="1595.5" x="300.5" y="244.0703"/><rect fill="none" height="149.7578" style="stroke:#000000;stroke-width:1.5;" width="370" x="1136.5" y="745.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="14" x2="14" y1="80.3125" y2="1040.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="99" x2="99" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="912.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="94" y="110.6641"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="223.5" x2="223.5" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="218.5" y="581.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="396" x2="396" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="391" y="355.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="538.5" x2="538.5" y1="80.3125" y2="1040.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="629.5" x2="629.5" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="851.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="624.5" y="141.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="757.5" x2="757.5" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="752.5" y="551.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="924" x2="924" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="919" y="325.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1081.5" x2="1081.5" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1076.5" y="171.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1076.5" y="703.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1210" x2="1210" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1205" y="826.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1344" x2="1344" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="796.3984"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1490.5" x2="1490.5" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="258.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1485.5" y="672.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1640" x2="1640" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="730.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1635" y="232.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1814" x2="1814" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1809" y="294.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1948.5" x2="1948.5" y1="80.3125" y2="1040.8594"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1943.5" y="490.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2043" x2="2043" y1="80.3125" y2="1040.8594"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="18" x="5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="12" y="69.2363"> </text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="67.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="74.5" y="69.2363">Routing</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="140.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="147.5" y="69.2363">Robot Type Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="316.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="323.5" y="69.2363">Task Type Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="495.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="502.5" y="69.2363">Data Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="591.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="598.5" y="69.2363">Controller</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="677.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="684.5" y="69.2363">Robot Type Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="847.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="854.5" y="69.2363">Task Type Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1020.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1027.5" y="69.2363">Robot Type DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1152.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1159.5" y="69.2363">Task Type DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="1277.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1284.5" y="69.2363">Task Type Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="1420.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1427.5" y="69.2363">Robot Type Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="1570.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1577.5" y="69.2363">Robot Type Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="1748" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1755" y="69.2363">Task Type Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="1904.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1911.5" y="69.2363">Robot Type</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="2002.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="2009.5" y="69.2363">Task Type</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="18" x="5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="12" y="1062.3926"> </text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="67.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="74.5" y="1062.3926">Routing</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="140.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="147.5" y="1062.3926">Robot Type Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="316.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="323.5" y="1062.3926">Task Type Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="495.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="502.5" y="1062.3926">Data Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="591.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="598.5" y="1062.3926">Controller</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="677.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="684.5" y="1062.3926">Robot Type Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="847.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="854.5" y="1062.3926">Task Type Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1020.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1027.5" y="1062.3926">Robot Type DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1152.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1159.5" y="1062.3926">Task Type DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="1277.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1284.5" y="1062.3926">Task Type Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="1420.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1427.5" y="1062.3926">Robot Type Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="1570.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1577.5" y="1062.3926">Robot Type Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="1748" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1755" y="1062.3926">Task Type Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="1904.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1911.5" y="1062.3926">Robot Type</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="2002.5" y="1040.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="2009.5" y="1062.3926">Task Type</text><ellipse cx="10.5" cy="109.9141" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="82,106.6641,92,110.6641,82,114.6641,86,110.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="15" x2="88" y1="110.6641" y2="110.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="18" y="105.8076">Post</text><polygon fill="#181818" points="612.5,137.0156,622.5,141.0156,612.5,145.0156,616.5,141.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104" x2="618.5" y1="141.0156" y2="141.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="111" y="136.1592">createRobotType(input)</text><polygon fill="#181818" points="1064.5,167.3672,1074.5,171.3672,1064.5,175.3672,1068.5,171.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="634.5" x2="1070.5" y1="171.3672" y2="171.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="641.5" y="166.5107">input as DTO</text><polygon fill="#181818" points="645.5,197.7188,635.5,201.7188,645.5,205.7188,641.5,201.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="639.5" x2="1075.5" y1="201.7188" y2="201.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="651.5" y="196.8623">robotTypeDTO</text><polygon fill="#181818" points="1623,228.0703,1633,232.0703,1623,236.0703,1627,232.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="634.5" x2="1629" y1="232.0703" y2="232.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="641.5" y="227.2139">createRobotType(robotTypeDTO)</text><path d="M300.5,244.0703 L373.5,244.0703 L373.5,252.4219 L363.5,262.4219 L300.5,262.4219 L300.5,244.0703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="210.4609" style="stroke:#000000;stroke-width:1.5;" width="1595.5" x="300.5" y="244.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="315.5" y="258.5654">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121" x="388.5" y="257.4893">[for each type of task]</text><polygon fill="#181818" points="1797,290.7734,1807,294.7734,1797,298.7734,1801,294.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1645" x2="1803" y1="294.7734" y2="294.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="1652" y="289.917">getTaskType(taskTypeId)</text><polygon fill="#181818" points="940,321.125,930,325.125,940,329.125,936,325.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="934" x2="1808" y1="325.125" y2="325.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="946" y="320.2686">findByType(type)</text><polygon fill="#181818" points="412,351.4766,402,355.4766,412,359.4766,408,355.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="406" x2="918" y1="355.4766" y2="355.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="418" y="350.6201">findByType(type)</text><polygon fill="#181818" points="907,381.8281,917,385.8281,907,389.8281,911,385.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="401" x2="913" y1="385.8281" y2="385.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="408" y="380.9717">taskType</text><polygon fill="#181818" points="1797,412.1797,1807,416.1797,1797,420.1797,1801,416.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="929" x2="1803" y1="416.1797" y2="416.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="936" y="411.3232">taskType</text><polygon fill="#181818" points="1656,442.5313,1646,446.5313,1656,450.5313,1652,446.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1650" x2="1808" y1="446.5313" y2="446.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1662" y="441.6748">taskType</text><polygon fill="#181818" points="1931.5,486.8828,1941.5,490.8828,1931.5,494.8828,1935.5,490.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1645" x2="1937.5" y1="490.8828" y2="490.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="1652" y="486.0264">create(name, brand, model, typeOfTasks)</text><polygon fill="#181818" points="1656,517.2344,1646,521.2344,1656,525.2344,1652,521.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1650" x2="1942.5" y1="521.2344" y2="521.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1662" y="516.3779">robotType</text><polygon fill="#181818" points="773.5,547.5859,763.5,551.5859,773.5,555.5859,769.5,551.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="767.5" x2="1634" y1="551.5859" y2="551.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="779.5" y="546.7295">save(robotType)</text><polygon fill="#181818" points="239.5,577.9375,229.5,581.9375,239.5,585.9375,235.5,581.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="233.5" x2="751.5" y1="581.9375" y2="581.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="245.5" y="577.0811">save(robotType)</text><polygon fill="#181818" points="740.5,608.2891,750.5,612.2891,740.5,616.2891,744.5,612.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="228.5" x2="746.5" y1="612.2891" y2="612.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="235.5" y="607.4326">robotType</text><polygon fill="#181818" points="1623,638.6406,1633,642.6406,1623,646.6406,1627,642.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="762.5" x2="1629" y1="642.6406" y2="642.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="769.5" y="637.7842">robotType</text><polygon fill="#181818" points="1506.5,668.9922,1496.5,672.9922,1506.5,676.9922,1502.5,672.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1500.5" x2="1634" y1="672.9922" y2="672.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="1512.5" y="668.1357">toDTO(robotType)</text><polygon fill="#181818" points="1097.5,699.3438,1087.5,703.3438,1097.5,707.3438,1093.5,703.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1091.5" x2="1484.5" y1="703.3438" y2="703.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1103.5" y="698.4873">robotTypeDTO</text><polygon fill="#181818" points="1473.5,729.6953,1483.5,733.6953,1473.5,737.6953,1477.5,733.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1086.5" x2="1479.5" y1="733.6953" y2="733.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1093.5" y="728.8389">robotTypeDTO</text><path d="M1136.5,745.6953 L1209.5,745.6953 L1209.5,754.0469 L1199.5,764.0469 L1136.5,764.0469 L1136.5,745.6953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="149.7578" style="stroke:#000000;stroke-width:1.5;" width="370" x="1136.5" y="745.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1151.5" y="760.1904">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107" x="1224.5" y="759.1143">[for each task type]</text><polygon fill="#181818" points="1360,792.3984,1350,796.3984,1360,800.3984,1356,796.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1354" x2="1484.5" y1="796.3984" y2="796.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="1366" y="791.542">toDTO(taskType)</text><polygon fill="#181818" points="1226,822.75,1216,826.75,1226,830.75,1222,826.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1220" x2="1338" y1="826.75" y2="826.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="1232" y="821.8936">taskTypeDTO</text><polygon fill="#181818" points="1327,853.1016,1337,857.1016,1327,861.1016,1331,857.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1215" x2="1333" y1="857.1016" y2="857.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="1222" y="852.2451">taskTypeDTO</text><polygon fill="#181818" points="1473.5,883.4531,1483.5,887.4531,1473.5,891.4531,1477.5,887.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1349" x2="1479.5" y1="887.4531" y2="887.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="1356" y="882.5967">taskTypeDTO</text><polygon fill="#181818" points="1623,927.8047,1633,931.8047,1623,935.8047,1627,931.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1495.5" x2="1629" y1="931.8047" y2="931.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1502.5" y="926.9482">robotTypeDTO</text><polygon fill="#181818" points="645.5,958.1563,635.5,962.1563,645.5,966.1563,641.5,962.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="639.5" x2="1634" y1="962.1563" y2="962.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="651.5" y="957.2998">robotTypeDTO</text><polygon fill="#181818" points="115,988.5078,105,992.5078,115,996.5078,111,992.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="623.5" y1="992.5078" y2="992.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="121" y="987.6514">buildingDTO</text><ellipse cx="10.5" cy="1022.1094" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="27.5,1018.8594,17.5,1022.8594,27.5,1026.8594,23.5,1022.8594" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="93.5" cy="1022.1094" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="25.5" x2="89" y1="1022.8594" y2="1022.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="28" y="1018.0029">buildingDTO</text><!--MD5=[059a61626870a46b8c8e97fe7947d09b]
@startuml SD Lv3

!pragma teoz true

participant " "
box "Campus Management" #LightBlue

    box "Framework And Drivers Layer" #00ffff
        participant Routing
        participant "Robot Type Persistence" as Persistence
        participant "Task Type Persistence" as TaskTypePers
    end box

    participant "Data Model" as Data
    box "Interface Adapters Layer" #77ffaa
        participant Controller
        participant "Robot Type Repository" as Repository
        participant "Task Type Repository" as TaskTypeRepo
    end box

    participant "Robot Type DTO" as DTO
    participant "Task Type DTO" as TaskTypeDTO
    participant "Task Type Mapper" as TaskTypeMapper
    participant "Robot Type Mapper" as RobotTypeMapper
    box "Application Business Rules" #ff6666
        participant "Robot Type Service" as Service
        participant "Task Type Service" as TaskTypeService
    end box

    box "Enterprise Business Rules" #eeddaa
        participant "Robot Type" as RobotType
        participant "Task Type" as TaskType
    end box
end box


[o-> Routing : Post
activate Routing

    Routing -> Controller : createRobotType(input)
    activate Controller

        Controller -> DTO : input as DTO
        activate DTO

        DTO - -> Controller : robotTypeDTO
        deactivate DTO

        Controller -> Service : createRobotType(robotTypeDTO)
        activate Service

            loop for each type of task

                Service -> TaskTypeService: getTaskType(taskTypeId)
                activate TaskTypeService

                    TaskTypeService -> TaskTypeRepo: findByType(type)
                    activate TaskTypeRepo

                        TaskTypeRepo -> TaskTypePers: findByType(type)
                        activate TaskTypePers

                        TaskTypePers - -> TaskTypeRepo: taskType
                        deactivate TaskTypePers

                    TaskTypeRepo - -> TaskTypeService: taskType
                    deactivate TaskTypeRepo
                
                TaskTypeService - -> Service: taskType
                deactivate TaskTypeService

            end loop

            Service -> RobotType: create(name, brand, model, typeOfTasks)
            activate RobotType

            RobotType - -> Service: robotType
            deactivate RobotType

            Service -> Repository: save(robotType)
            activate Repository

                Repository -> Persistence: save(robotType)
                activate Persistence

                Persistence - -> Repository: robotType
                deactivate Persistence
            
            Repository - -> Service: robotType
            deactivate Repository

        Service -> RobotTypeMapper: toDTO(robotType)
        activate RobotTypeMapper

            RobotTypeMapper -> DTO: robotTypeDTO
            activate DTO

            DTO - -> RobotTypeMapper: robotTypeDTO
            deactivate DTO

            loop for each task type

                RobotTypeMapper -> TaskTypeMapper: toDTO(taskType)
                activate TaskTypeMapper

                    TaskTypeMapper -> TaskTypeDTO: taskTypeDTO
                    activate TaskTypeDTO

                    TaskTypeDTO - -> TaskTypeMapper: taskTypeDTO
                    deactivate TaskTypeDTO

                TaskTypeMapper - -> RobotTypeMapper: taskTypeDTO
                deactivate TaskTypeMapper

            end loop
        
        RobotTypeMapper - -> Service: robotTypeDTO
        deactivate RobotTypeMapper

        Service - -> Controller : robotTypeDTO
        deactivate Service

    Controller - -> Routing : buildingDTO
    deactivate Controller

[o<- -o Routing : buildingDTO
deactivate Routing


@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1342px" preserveAspectRatio="none" style="width:1811px;height:1342px;background:#FFFFFF;" version="1.1" viewBox="0 0 1811 1342" width="1811px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1330.6328" style="stroke:#181818;stroke-width:0.5;" width="1730.5" x="63.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138" x="859.75" y="19.4951">Campus Management</text><rect fill="#00FFFF" height="1309.2813" style="stroke:#181818;stroke-width:0.5;" width="358" x="63.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="189" x="148" y="40.8467">Framework And Drivers Layer</text><rect fill="#77FFAA" height="1309.2813" style="stroke:#181818;stroke-width:0.5;" width="359" x="529.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="631" y="40.8467">Interface Adapters Layer</text><rect fill="#FF6666" height="1309.2813" style="stroke:#181818;stroke-width:0.5;" width="194" x="1372.5" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="170" x="1384.5" y="40.8467">Application Business Rules</text><rect fill="#EEDDAA" height="1309.2813" style="stroke:#181818;stroke-width:0.5;" width="206" x="1588" y="27.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="162" x="1610" y="40.8467">Enterprise Business Rules</text><rect fill="none" height="89.0547" style="stroke:#000000;stroke-width:1.5;" width="352" x="1453.5" y="608.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="14" x2="14" y1="80.3125" y2="1298.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="99" x2="99" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="1169.3594" style="stroke:#181818;stroke-width:1.0;" width="10" x="94" y="110.6641"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="211.5" x2="211.5" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="206.5" y="292.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="206.5" y="764.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="355" x2="355" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="350" y="414.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="350" y="885.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="480.5" x2="480.5" y1="80.3125" y2="1298.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="571.5" x2="571.5" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="1108.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="566.5" y="141.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="687.5" x2="687.5" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="682.5" y="262.4219"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="682.5" y="733.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="825" x2="825" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="820" y="383.8281"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="820" y="855.1016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="954.5" x2="954.5" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="949.5" y="171.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="949.5" y="1037.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1063.5" x2="1063.5" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1058.5" y="1128.2656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1181.5" x2="1181.5" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176.5" y="1006.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1308.5" x2="1308.5" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="212.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1303.5" y="976.5078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1469.5" x2="1469.5" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="987.25" style="stroke:#181818;stroke-width:1.0;" width="10" x="1464.5" y="232.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1624.5" x2="1624.5" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1619.5" y="565.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1699.5" x2="1699.5" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1694.5" y="505.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1766" x2="1766" y1="80.3125" y2="1298.0234"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1761" y="658.9922"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="18" x="5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="12" y="69.2363">Â </text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="67.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="74.5" y="69.2363">Routing</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="140.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="147.5" y="69.2363">Building Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="292.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="299.5" y="69.2363">Floor Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="437.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="444.5" y="69.2363">Data Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="533.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="540.5" y="69.2363">Controller</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="619.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="626.5" y="69.2363">Building Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="765.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="772.5" y="69.2363">Floor Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="904.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="911.5" y="69.2363">Elevator DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1014.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1021.5" y="69.2363">Building DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1122.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1129.5" y="69.2363">Elevator Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1250.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1257.5" y="69.2363">Building Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1411" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1418" y="69.2363">Elevator Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="1592.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1599.5" y="69.2363">Building</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="1666.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="1673.5" y="69.2363">Elevator</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="1742.5" y="47.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1749.5" y="69.2363">Floor</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="18" x="5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="12" y="1319.5566">Â </text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="67.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="74.5" y="1319.5566">Routing</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="140.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="147.5" y="1319.5566">Building Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="292.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="299.5" y="1319.5566">Floor Persistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="437.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="444.5" y="1319.5566">Data Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="533.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="540.5" y="1319.5566">Controller</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="619.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="626.5" y="1319.5566">Building Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="765.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="772.5" y="1319.5566">Floor Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="904.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="911.5" y="1319.5566">Elevator DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1014.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1021.5" y="1319.5566">Building DTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1122.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1129.5" y="1319.5566">Elevator Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1250.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1257.5" y="1319.5566">Building Mapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1411" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1418" y="1319.5566">Elevator Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="1592.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1599.5" y="1319.5566">Building</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="1666.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="1673.5" y="1319.5566">Elevator</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="1742.5" y="1298.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1749.5" y="1319.5566">Floor</text><ellipse cx="10.5" cy="109.9141" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="82,106.6641,92,110.6641,82,114.6641,86,110.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="15" x2="88" y1="110.6641" y2="110.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="18" y="105.8076">Post</text><polygon fill="#181818" points="554.5,137.0156,564.5,141.0156,554.5,145.0156,558.5,141.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104" x2="560.5" y1="141.0156" y2="141.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="111" y="136.1592">createElevator(input)</text><polygon fill="#181818" points="937.5,167.3672,947.5,171.3672,937.5,175.3672,941.5,171.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="576.5" x2="943.5" y1="171.3672" y2="171.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="583.5" y="166.5107">input as DTO</text><polygon fill="#181818" points="587.5,197.7188,577.5,201.7188,587.5,205.7188,583.5,201.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="581.5" x2="948.5" y1="201.7188" y2="201.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="593.5" y="196.8623">elevatorDTO</text><polygon fill="#181818" points="1452.5,228.0703,1462.5,232.0703,1452.5,236.0703,1456.5,232.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="576.5" x2="1458.5" y1="232.0703" y2="232.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="583.5" y="227.2139">createElevator(elevatorDTO, code, floors)</text><polygon fill="#181818" points="703.5,258.4219,693.5,262.4219,703.5,266.4219,699.5,262.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="697.5" x2="1463.5" y1="262.4219" y2="262.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="709.5" y="257.5654">findByCode(code)</text><polygon fill="#181818" points="227.5,288.7734,217.5,292.7734,227.5,296.7734,223.5,292.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="221.5" x2="681.5" y1="292.7734" y2="292.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="233.5" y="287.917">findByCode(code)</text><polygon fill="#181818" points="670.5,319.125,680.5,323.125,670.5,327.125,674.5,323.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="676.5" y1="323.125" y2="323.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="223.5" y="318.2686">building</text><polygon fill="#181818" points="1452.5,349.4766,1462.5,353.4766,1452.5,357.4766,1456.5,353.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="692.5" x2="1458.5" y1="353.4766" y2="353.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="699.5" y="348.6201">building</text><polygon fill="#181818" points="841,379.8281,831,383.8281,841,387.8281,837,383.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="835" x2="1463.5" y1="383.8281" y2="383.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="847" y="378.9717">findByCodes(building, codes)</text><polygon fill="#181818" points="371,410.1797,361,414.1797,371,418.1797,367,414.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="365" x2="819" y1="414.1797" y2="414.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="377" y="409.3232">findByCodes(building, codes)</text><polygon fill="#181818" points="808,440.5313,818,444.5313,808,448.5313,812,444.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="360" x2="814" y1="444.5313" y2="444.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="367" y="439.6748">floors</text><polygon fill="#181818" points="1452.5,470.8828,1462.5,474.8828,1452.5,478.8828,1456.5,474.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="830" x2="1458.5" y1="474.8828" y2="474.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="837" y="470.0264">floors</text><polygon fill="#181818" points="1682.5,501.2344,1692.5,505.2344,1682.5,509.2344,1686.5,505.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1474.5" x2="1688.5" y1="505.2344" y2="505.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="1481.5" y="500.3779">create(...)</text><polygon fill="#181818" points="1485.5,531.5859,1475.5,535.5859,1485.5,539.5859,1481.5,535.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1479.5" x2="1693.5" y1="535.5859" y2="535.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1491.5" y="530.7295">elevator</text><polygon fill="#181818" points="1607.5,561.9375,1617.5,565.9375,1607.5,569.9375,1611.5,565.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1474.5" x2="1613.5" y1="565.9375" y2="565.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="1481.5" y="561.0811">set elevator = elevator</text><polygon fill="#181818" points="1485.5,592.2891,1475.5,596.2891,1485.5,600.2891,1481.5,596.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1479.5" x2="1618.5" y1="596.2891" y2="596.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="1491.5" y="591.4326">Success</text><path d="M1453.5,608.2891 L1526.5,608.2891 L1526.5,616.6406 L1516.5,626.6406 L1453.5,626.6406 L1453.5,608.2891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="89.0547" style="stroke:#000000;stroke-width:1.5;" width="352" x="1453.5" y="608.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1468.5" y="622.7842">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82" x="1541.5" y="621.708">[for each floor]</text><polygon fill="#181818" points="1749,654.9922,1759,658.9922,1749,662.9922,1753,658.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1474.5" x2="1755" y1="658.9922" y2="658.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1481.5" y="654.1357">servedByElevator = true</text><polygon fill="#181818" points="1485.5,685.3438,1475.5,689.3438,1485.5,693.3438,1481.5,689.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1479.5" x2="1760" y1="689.3438" y2="689.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="1491.5" y="684.4873">Success</text><polygon fill="#181818" points="703.5,729.6953,693.5,733.6953,703.5,737.6953,699.5,733.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="697.5" x2="1463.5" y1="733.6953" y2="733.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="709.5" y="728.8389">save(building)</text><polygon fill="#181818" points="227.5,760.0469,217.5,764.0469,227.5,768.0469,223.5,764.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="221.5" x2="681.5" y1="764.0469" y2="764.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="233.5" y="759.1904">save(building)</text><polygon fill="#181818" points="670.5,790.3984,680.5,794.3984,670.5,798.3984,674.5,794.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="676.5" y1="794.3984" y2="794.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="223.5" y="789.542">Success</text><polygon fill="#181818" points="1452.5,820.75,1462.5,824.75,1452.5,828.75,1456.5,824.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="692.5" x2="1458.5" y1="824.75" y2="824.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="699.5" y="819.8936">Success</text><polygon fill="#181818" points="841,851.1016,831,855.1016,841,859.1016,837,855.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="835" x2="1463.5" y1="855.1016" y2="855.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="847" y="850.2451">save(floors)</text><polygon fill="#181818" points="371,881.4531,361,885.4531,371,889.4531,367,885.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="365" x2="819" y1="885.4531" y2="885.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="377" y="880.5967">save(floors)</text><polygon fill="#181818" points="808,911.8047,818,915.8047,808,919.8047,812,915.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="360" x2="814" y1="915.8047" y2="915.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="367" y="910.9482">Success</text><polygon fill="#181818" points="1452.5,942.1563,1462.5,946.1563,1452.5,950.1563,1456.5,946.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="830" x2="1458.5" y1="946.1563" y2="946.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="837" y="941.2998">Success</text><polygon fill="#181818" points="1324.5,972.5078,1314.5,976.5078,1324.5,980.5078,1320.5,976.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1318.5" x2="1463.5" y1="976.5078" y2="976.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1330.5" y="971.6514">toDTO(building)</text><polygon fill="#181818" points="1197.5,1002.8594,1187.5,1006.8594,1197.5,1010.8594,1193.5,1006.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1191.5" x2="1302.5" y1="1006.8594" y2="1006.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1203.5" y="1002.0029">toDTO(elevator)</text><polygon fill="#181818" points="970.5,1033.2109,960.5,1037.2109,970.5,1041.2109,966.5,1037.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1175.5" y1="1037.2109" y2="1037.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="976.5" y="1032.3545">elevator as DTO</text><polygon fill="#181818" points="1164.5,1063.5625,1174.5,1067.5625,1164.5,1071.5625,1168.5,1067.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="959.5" x2="1170.5" y1="1067.5625" y2="1067.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="966.5" y="1062.7061">elevatorDTO</text><polygon fill="#181818" points="1291.5,1093.9141,1301.5,1097.9141,1291.5,1101.9141,1295.5,1097.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1186.5" x2="1297.5" y1="1097.9141" y2="1097.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="1193.5" y="1093.0576">elevatorDTO</text><polygon fill="#181818" points="1079.5,1124.2656,1069.5,1128.2656,1079.5,1132.2656,1075.5,1128.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1073.5" x2="1302.5" y1="1128.2656" y2="1128.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1085.5" y="1123.4092">building as DTO</text><polygon fill="#181818" points="1291.5,1154.6172,1301.5,1158.6172,1291.5,1162.6172,1295.5,1158.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1068.5" x2="1297.5" y1="1158.6172" y2="1158.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="1075.5" y="1153.7607">buildingDTO</text><polygon fill="#181818" points="1452.5,1184.9688,1462.5,1188.9688,1452.5,1192.9688,1456.5,1188.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1313.5" x2="1458.5" y1="1188.9688" y2="1188.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="1320.5" y="1184.1123">buildingDTO</text><polygon fill="#181818" points="587.5,1215.3203,577.5,1219.3203,587.5,1223.3203,583.5,1219.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="581.5" x2="1463.5" y1="1219.3203" y2="1219.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="593.5" y="1214.4639">buildingDTO</text><polygon fill="#181818" points="115,1245.6719,105,1249.6719,115,1253.6719,111,1249.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="565.5" y1="1249.6719" y2="1249.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="121" y="1244.8154">buildingDTO</text><ellipse cx="10.5" cy="1279.2734" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="27.5,1276.0234,17.5,1280.0234,27.5,1284.0234,23.5,1280.0234" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="93.5" cy="1279.2734" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="25.5" x2="89" y1="1280.0234" y2="1280.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="28" y="1275.167">buildingDTO</text><!--MD5=[c09d13ad328a997ab20ab9450b51cf03]
@startuml SD Lv3

!pragma teoz true

participant " "
box "Campus Management" #LightBlue

    box "Framework And Drivers Layer" #00ffff
        participant Routing
        participant "Building Persistence" as Persistence
        participant "Floor Persistence" as FloorPers
    end box

    participant "Data Model" as Data
    box "Interface Adapters Layer" #77ffaa
        participant Controller
        participant "Building Repository" as Repository
        participant "Floor Repository" as FloorRepo
    end box

    participant "Elevator DTO" as DTO
    participant "Building DTO" as BuildingDTO
    participant "Elevator Mapper" as Mapper
    participant "Building Mapper" as BuildingMapper
    box "Application Business Rules" #ff6666
        participant "Elevator Service" as ElevatorService
    end box

    box "Enterprise Business Rules" #eeddaa
        participant Building
        participant Elevator
        participant Floor
    end box
end box


[o-> Routing : Post
activate Routing

    Routing -> Controller : createElevator(input)
    activate Controller

        Controller -> DTO : input as DTO
        activate DTO

        DTO - -> Controller : elevatorDTO
        deactivate DTO

        Controller -> ElevatorService : createElevator(elevatorDTO, code, floors)
        activate ElevatorService
        
            ElevatorService -> Repository : findByCode(code)
            activate Repository

                Repository -> Persistence : findByCode(code)
                activate Persistence

                Persistence - -> Repository : building
                deactivate Persistence

            Repository - -> ElevatorService : building
            deactivate Repository

            ElevatorService -> FloorRepo : findByCodes(building, codes)
            activate FloorRepo

                FloorRepo -> FloorPers : findByCodes(building, codes)
                activate FloorPers

                FloorPers - -> FloorRepo : floors
                deactivate FloorPers

            FloorRepo - -> ElevatorService : floors
            deactivate FloorRepo

            ElevatorService -> Elevator : create(...)
            activate Elevator

            Elevator - -> ElevatorService : elevator
            deactivate Elevator

            ElevatorService -> Building : set elevator = elevator
            activate Building
            
            Building - -> ElevatorService : Success
            deactivate Building

            loop for each floor
                ElevatorService -> Floor : servedByElevator = true
                activate Floor
                Floor - -> ElevatorService : Success
                deactivate Floor
            end

            ElevatorService -> Repository : save(building)
            activate Repository

                Repository -> Persistence : save(building)
                activate Persistence

                Persistence - -> Repository : Success
                deactivate Persistence

            Repository - -> ElevatorService : Success
            deactivate Repository

            ElevatorService -> FloorRepo : save(floors)
            activate FloorRepo

                FloorRepo -> FloorPers : save(floors)
                activate FloorPers

                FloorPers - -> FloorRepo : Success
                deactivate FloorPers

            FloorRepo - -> ElevatorService : Success
            deactivate FloorRepo

        ElevatorService -> BuildingMapper : toDTO(building)
        activate BuildingMapper

            BuildingMapper -> Mapper : toDTO(elevator)
            activate Mapper

                Mapper -> DTO : elevator as DTO
                activate DTO

                DTO - -> Mapper: elevatorDTO
                deactivate DTO

            Mapper - -> BuildingMapper : elevatorDTO
            deactivate Mapper

            
                BuildingMapper -> BuildingDTO : building as DTO
                activate BuildingDTO

                BuildingDTO - -> BuildingMapper: buildingDTO
                deactivate BuildingDTO
        
        BuildingMapper - -> ElevatorService : buildingDTO
        deactivate BuildingMapper

        ElevatorService - -> Controller : buildingDTO
        deactivate ElevatorService

    Controller - -> Routing : buildingDTO
    deactivate Controller

[o<- -o Routing : buildingDTO
deactivate Routing


@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>